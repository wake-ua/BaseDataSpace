##  Highlights 
Los portales de datos abiertos proporcionan conjuntos de datos muy valiosos, pero con frecuencia presentan inconsistencias, faltan datos o est谩n mal estructurados.  
El **indexer-service** automatiza la obtenci贸n, limpieza y transformaci贸n de los datos provenientes del Cat谩logo Federado, generando embeddings y almacen谩ndolos en **Qdrant** para que el buscador pueda ofrecer una experiencia unificada y de mayor calidad.

## 癸 Overview 
Proyecto enfocado en la extracci贸n e indexaci贸n de datos abiertos procedentes del **Federated Catalog**.  
El servicio se encarga de:

- Obtener metadatos (t铆tulo, descripci贸n).  
- Descargar y procesar *samples*.  
- Convertir samples en datos tabulares cuando es necesario.  
- Generar embeddings.  
- Crear y poblar colecciones en **Qdrant**.

La aplicaci贸n est谩 implementada en **Python** y se ejecuta dentro de Docker.

##  Adaptaci贸n de Dominio 
Actualmente no se plantea adaptar este servicio a otros dominios o tipos de datos.

##  Setup 
El servicio forma parte del entorno Docker del proyecto. Para ponerlo en marcha:

```bash
docker compose build
docker compose up -d
```

Antes de ejecutar el indexador, es necesario:

1. Que el **Federated Catalog** haya cargado los datasets en su MongoDB.

2. Crear manualmente las colecciones en Qdrant desde el dashboard:

```
http://localhost:6333/dashboard#/console
```

3. Acceder al contenedor del indexador:

```bash
docker exec -it indexer-service bash
```

4. Ejecutar el proceso de indexaci贸n:

```
python run_indexer.py
```

## З Ejemplo de Ejecuci贸n

Ejecutar el indexador:

```
python run_indexer.py
```

Este proceso:

- Descarga datos del cat谩logo federado  
- Limpia y genera metadatos  
- Descarga y transforma samples  
- Genera embeddings  
- Inserta la informaci贸n en Qdrant  

Tras completar la indexaci贸n, el buscador podr谩 consultar Qdrant. Ejemplos:

### B煤squeda normal:
```
http://localhost:8002/search?q=salamanca
```

### B煤squeda normal (paginada):
```
http://localhost:8002/search?q=salamanca&page=2
```

### B煤squeda por filtros:
```
http://localhost:8002/search?theme=Econom铆a
```

### B煤squeda combinada:
```
http://localhost:8002/search?q=salamanca&theme=Econom铆a
```

##  Objetivo Actual
Completar la integraci贸n de samples provenientes de la negociaci贸n federada y automatizar el flujo de indexaci贸n mediante un scheduler.
